(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13888,e=>{"use strict";let t={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}};e.s(["highContrastPropDef",()=>t])},13216,51982,e=>{"use strict";var t=e.i(43794);let r=["initial","xs","sm","md","lg","xl"];function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e){return"object"==typeof e&&Object.keys(e).some(e=>r.includes(e))}function i({allowArbitraryValues:e,value:t,className:i,propValues:l,parseValue:o=e=>e}){let c=[];if(t){if("string"==typeof t&&l.includes(t))return a(i,t,o);if(n(t)){for(let n in t){if(!s(t,n)||!r.includes(n))continue;let u=t[n];if(void 0!==u){if(l.includes(u)){let e=a(i,u,o),t="initial"===n?e:`${n}:${e}`;c.push(t)}else if(e){let e="initial"===n?i:`${n}:${i}`;c.push(e)}}}return c.join(" ")}if(e)return i}}function a(e,t,r){let s=r(t),n=s?.startsWith("-"),i=n?s?.substring(1):s;return`${n?"-":""}${e}${e?"-":""}${i}`}function l(...e){let t={};for(let r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function o(e,...a){let c,u,p={...e},m=function(...e){return Object.assign({},...e)}(...a);for(let e in m){let a=p[e],o=m[e];if(void 0!==o.default&&void 0===a&&(a=o.default),"enum"!==o.type||[o.default,...o.values].includes(a)||n(a)||(a=o.default),p[e]=a,"className"in o&&o.className){delete p[e];let m="responsive"in o;if(!a||n(a)&&!m)continue;if(n(a)&&(void 0!==o.default&&void 0===a.initial&&(a.initial=o.default),"enum"===o.type&&([o.default,...o.values].includes(a.initial)||(a.initial=o.default))),"enum"===o.type){let e=i({allowArbitraryValues:!1,value:a,className:o.className,propValues:o.values,parseValue:o.parseValue});c=(0,t.default)(c,e);continue}if("string"===o.type||"enum | string"===o.type){let e="string"===o.type?[]:o.values,[p,m]=function({className:e,customProperties:t,...a}){return[i({allowArbitraryValues:!0,className:e,...a}),function({customProperties:e,value:t,propValues:i,parseValue:a=e=>e}){let l={};if(!(!t||"string"==typeof t&&i.includes(t))){if("string"==typeof t&&(l=Object.fromEntries(e.map(e=>[e,t]))),n(t))for(let n in t){if(!s(t,n)||!r.includes(n))continue;let a=t[n];if(!i.includes(a))for(let t of e)l={["initial"===n?t:`${t}-${n}`]:a,...l}}for(let e in l){let t=l[e];void 0!==t&&(l[e]=a(t))}return l}}({customProperties:t,...a})]}({className:o.className,customProperties:o.customProperties,propValues:e,parseValue:o.parseValue,value:a});u=l(u,m),c=(0,t.default)(c,p);continue}if("boolean"===o.type&&a){c=(0,t.default)(c,o.className);continue}}}return p.className=(0,t.default)(c,e.className),p.style=l(u,e.style),p}e.s(["extractProps",()=>o],13216);let c=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],u={m:{type:"enum | string",values:c,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:c,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:c,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:c,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:c,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:c,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:c,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}};e.s(["marginPropDefs",()=>u],51982)},39045,40580,50468,e=>{"use strict";var t=e.i(71645),r=e.i(43794),s=e.i(13216);let n=["0","1","2","3","4","5","6","7","8","9"],i={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:n,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:n,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:n,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:n,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:n,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:n,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:n,responsive:!0}};e.s(["paddingPropDefs",()=>i],40580);let a=["visible","hidden","clip","scroll","auto"],l=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],o={...i,width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0},height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0},position:{type:"enum",className:"rt-r-position",values:["static","relative","absolute","fixed","sticky"],responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:l,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:l,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:l,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:l,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:l,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:a,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:a,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:a,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:["0","1"],responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:["0","1"],responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}};var c=e.i(51982),u=e.i(86011);u.Slot.Root;let p=u.Slot.Root;u.Slot.Slottable;var m=e.i(14554);let d=["0","1","2","3","4","5","6","7","8","9"],f={as:{type:"enum",values:["div","span"],default:"div"},...m.asChildPropDef,display:{type:"enum",className:"rt-r-display",values:["none","inline-flex","flex"],responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:["row","column","row-reverse","column-reverse"],responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end","between"],parseValue:function(e){return"between"===e?"space-between":e},responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:d,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:d,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:d,responsive:!0}};e.s(["flexPropDefs",()=>f],50468);let g=t.forwardRef((e,n)=>{let{className:i,asChild:a,as:l="div",...u}=(0,s.extractProps)(e,f,o,c.marginPropDefs);return t.createElement(a?p:l,{...u,ref:n,className:(0,r.default)("rt-Flex",i)})});g.displayName="Flex",e.s(["Flex",()=>g],39045)},39827,e=>{"use strict";var t=e.i(71645),r=e.i(43794),s=e.i(86011),n=e.i(14554),i=e.i(69931),a=e.i(13888),l=e.i(10712);let o={...n.asChildPropDef,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","solid","soft","surface","outline","ghost"],default:"solid"},...i.accentColorPropDef,...a.highContrastPropDef,...l.radiusPropDef,loading:{type:"boolean",className:"rt-loading",default:!1}};var c=e.i(39045);let u={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},loading:{type:"boolean",default:!0}};var p=e.i(13216),m=e.i(51982);let d=t.forwardRef((e,s)=>{let{className:n,children:i,loading:a,...l}=(0,p.extractProps)(e,u,m.marginPropDefs);if(!a)return i;let o=t.createElement("span",{...l,ref:s,className:(0,r.default)("rt-Spinner",n)},t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}),t.createElement("span",{className:"rt-SpinnerLeaf"}));return void 0===i?o:t.createElement(c.Flex,{asChild:!0,position:"relative",align:"center",justify:"center"},t.createElement("span",null,t.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},i),t.createElement(c.Flex,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},t.createElement("span",null,o))))});d.displayName="Spinner";var f=e.i(59411),f=f;let g=f.Root;function v(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}f.Root;let h=t.forwardRef((e,n)=>{let{size:i=o.size.default}=e,{className:a,children:l,asChild:u,color:f,radius:h,disabled:y=e.loading,...x}=(0,p.extractProps)(e,o,m.marginPropDefs),N=u?s.Slot.Root:"button";return t.createElement(N,{"data-disabled":y||void 0,"data-accent-color":f,"data-radius":h,...x,ref:n,className:(0,r.default)("rt-reset","rt-BaseButton",a),disabled:y},e.loading?t.createElement(t.Fragment,null,t.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},l),t.createElement(g,null,l),t.createElement(c.Flex,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},t.createElement("span",null,t.createElement(d,{size:function(e,t){if(void 0!==e)return"string"==typeof e?t(e):Object.fromEntries(Object.entries(e).map(([e,r])=>[e,t(r)]))}(i,v)})))):l)});h.displayName="BaseButton";let y=t.forwardRef(({className:e,...s},n)=>t.createElement(h,{...s,ref:n,className:(0,r.default)("rt-Button",e)}));y.displayName="Button",e.s(["Button",()=>y],39827)},83024,e=>{"use strict";var t=e.i(71645),r=e.i(43794),s=e.i(86011),n=e.i(13216),i=e.i(51982),a=e.i(14554),l=e.i(69931),o=e.i(13888);let c={as:{type:"enum",values:["span","div","label","p"],default:"span"},...a.asChildPropDef,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},weight:{type:"enum",className:"rt-r-weight",values:["light","regular","medium","bold"],responsive:!0},align:{type:"enum",className:"rt-r-ta",values:["left","center","right"],responsive:!0},trim:{type:"enum",className:"rt-r-lt",values:["normal","start","end","both"],responsive:!0},truncate:{type:"boolean",className:"rt-truncate"},wrap:{type:"enum",className:"rt-r-tw",values:["wrap","nowrap","pretty","balance"],responsive:!0},...l.colorPropDef,...o.highContrastPropDef},u=t.forwardRef((e,a)=>{let{children:l,className:o,asChild:u,as:p="span",color:m,...d}=(0,n.extractProps)(e,c,i.marginPropDefs);return t.createElement(s.Slot.Root,{"data-accent-color":m,...d,ref:a,className:(0,r.default)("rt-Text",o)},u?l:t.createElement(p,null,l))});u.displayName="Text",e.s(["Text",()=>u],83024)},47848,e=>{"use strict";var t=e.i(71645),r=e.i(43794),s=e.i(86011);let n={...e.i(14554).asChildPropDef,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5"],default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["surface","classic","ghost"],default:"surface"}};var i=e.i(13216),a=e.i(51982);let l=t.forwardRef((e,l)=>{let{asChild:o,className:c,...u}=(0,i.extractProps)(e,n,a.marginPropDefs),p=o?s.Slot.Root:"div";return t.createElement(p,{ref:l,...u,className:(0,r.default)("rt-reset","rt-BaseCard","rt-Card",c)})});l.displayName="Card",e.s(["Card",()=>l],47848)},77162,e=>{"use strict";var t=e.i(43476),r=e.i(39827),s=e.i(47848),n=e.i(39045),i=e.i(83024),a=e.i(71645);e.s(["AudioToText",0,()=>{let[e,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),m=(0,a.useRef)(null),[d,f]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void requestAnimationFrame(()=>f("æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«åŠŸèƒ½"));m.current=new(window.SpeechRecognition||window.webkitSpeechRecognition);let e=m.current;return e.continuous=!0,e.interimResults=!0,e.lang="zh-CN",e.maxAlternatives=3,e.onstart=()=>{console.log("âœ… è¯­éŸ³è¯†åˆ«å¼€å§‹"),p(!0)},e.onresult=e=>{let t="",r="";for(let s=e.resultIndex;s<e.results.length;s++){let n=e.results[s];console.log("ðŸ” è¯†åˆ«ç»“æžœ:",n[0].transcript,n.isFinal);let i=n[0];n.isFinal?t+=i.transcript:r+=i.transcript}t&&l(e=>[...e,t]),c(r)},e.onerror=e=>{console.error("âŒ è¯†åˆ«é”™è¯¯:",e.error),f(e.error),p(!1)},e.onend=()=>{console.log("â¹ï¸ è¯­éŸ³è¯†åˆ«ç»“æŸ"),p(!1)},()=>{m.current?.stop()}},[]),(0,t.jsxs)(n.Flex,{direction:"column",gap:"4",children:[(0,t.jsx)(i.Text,{className:"text-center",children:"Audio to Text"}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(i.Text,{className:"text-red-500",children:d}),(0,t.jsxs)(n.Flex,{direction:"column",gap:"2",children:[(0,t.jsx)(r.Button,{onClick:()=>{let e=m.current;if(e&&!u)try{e.start()}catch(e){console.error("å¯åŠ¨å¤±è´¥:",e)}},disabled:u,children:"Start"}),(0,t.jsx)(r.Button,{onClick:()=>{let e=m.current;e&&u&&e.stop()},disabled:!u,children:"Stop"}),(0,t.jsx)(r.Button,{onClick:()=>{l([]),c("")},children:"Clear"}),(0,t.jsx)(i.Text,{children:"æœ€ç»ˆçš„æ–‡æœ¬"}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(n.Flex,{direction:"column",className:"max-h-[300px] overflow-auto",children:[e.map((e,r)=>(0,t.jsx)(i.Text,{children:e},r)),(0,t.jsx)(i.Text,{children:o})]})})]})]})]})}])},71020,e=>{"use strict";var t=e.i(43476),r=e.i(39827),s=e.i(47848),n=e.i(39045),i=e.i(83024),a=e.i(71645);e.s(["TextToAudio",0,()=>{let e=`ä½ å¿˜äº† åˆ’è¿‡ä¼¤å£çš„å†·é£Ž ä½ ä¿¡äº† ä¸ç—›ä¸ç—’å°±ç®—è¿‡äº†ä¸€ç”Ÿ ä½  ä¸ºä»€ä¹ˆ çœ‹è§é›ªé£˜è½å°±ä¼šæƒ³å”±æ­Œ ä¸ºä»€ä¹ˆ åœ¨æ”¾æ‰‹æ—¶åˆ»çœ¼æ³ªä¼šæŽ‰è½`,[l,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(.5),[d,f]=(0,a.useState)(.6),[g,v]=(0,a.useState)(.8),h=(0,a.useRef)(null),y=(0,a.useRef)(null);return(0,a.useEffect)(()=>{h.current=window.speechSynthesis;let e=h.current.getVoices();o(e);let t=e.find(e=>e.lang.startsWith("zh"));t&&u(t.voiceURI)},[]),(0,t.jsxs)(n.Flex,{direction:"column",gap:"4",children:[(0,t.jsx)(i.Text,{className:"text-center",children:"Text to Audio"}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(n.Flex,{direction:"column",gap:"2",children:[(0,t.jsx)(r.Button,{onClick:()=>{if(console.log("speak"),console.log(`speak--rate:${p}, pitch=${d}, volumn=${g}`),h.current?.paused){console.log("æ¢å¤æ’­æ”¾"),h.current?.resume(),console.log("synthRef.current=",h.current);return}if(h.current?.speaking)return void console.log("æ­£åœ¨æ’­æ”¾ä¸­ï¼Œä¸åšå¤„ç†");y.current=new SpeechSynthesisUtterance(e);let t=l.find(e=>e.voiceURI===c);t&&(y.current.voice=t),console.log("synthRef.current=",h.current),console.log("utteranceRef.current=",y.current),console.log("voice=",t),y.current.rate=p,y.current.pitch=d,y.current.volume=g,y.current.lang="zh-CN",y.current.onstart=()=>{console.log("start")},y.current.onpause=()=>{console.log("pause"),console.log("synthRef.current=",h.current)},y.current.onresume=()=>{console.log("resume"),console.log("synthRef.current=",h.current)},y.current.onend=()=>{console.log("end")},y.current.onerror=()=>{console.log("error"),console.log("synthRef.current=",h.current)};try{h.current?.speak(y.current)}catch(e){console.error("error",e)}},children:"Play"}),(0,t.jsx)(r.Button,{onClick:()=>{h.current?.speaking&&h.current?.pause()},children:"Pause"}),(0,t.jsx)(r.Button,{onClick:()=>{h.current?.paused&&h.current?.resume(),h.current?.cancel()},children:"Stop"}),(0,t.jsx)(i.Text,{children:e})]})})]})}])},32466,e=>{"use strict";var t=e.i(43476),r=e.i(66628),s=e.i(47848),n=e.i(39045),i=e.i(83024),a=e.i(71645);e.s(["VoiceAnalysis",0,()=>{let e=(0,a.useRef)(null),l=(0,a.useRef)(null),o=(0,a.useRef)(!1),c=(0,a.useRef)(!1),u=(0,a.useRef)(null),p=(0,a.useRef)(null),m=(0,a.useRef)(null),d=(0,a.useRef)(null),f=()=>{if(!p.current||!m.current)return;let e=p.current,t=m.current;if(!c.current&&d.current)return void cancelAnimationFrame(d.current);e.getByteFrequencyData(t);let r=Math.floor(2*t.length/3),s=Array(2*r);for(let e=0;e<r;e++)s[e]=s[s.length-e-1]=t[e];g(s),d.current=requestAnimationFrame(f)},g=(t,r=255)=>{let s=e.current;if(!s)return;let n=s.getContext("2d");if(!n)return;let i=s.width/2,a=s.height/2,l=Math.min(s.width,s.height),o=l/4;n.clearRect(0,0,s.width,s.height);let c=360/(t.length-1),u=l/2-o;for(let e=0;e<t.length;e++){n.beginPath();let s=Math.max(t[e]/r*u,2),l=c*e;n.strokeStyle=`hsl(${l}deg, 65%, 65%)`,n.lineWidth=2;let p=l*Math.PI/180,m=i+o*Math.cos(p),d=a+o*Math.sin(p),f=i+(o+s)*Math.cos(p),g=a+(o+s)*Math.sin(p);n.moveTo(m,d),n.lineTo(f,g),n.stroke()}};return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let r=window.devicePixelRatio||1;t.width=200*r,t.height=200*r,t.style.width=t.style.height="200px",Array(256).fill(0)},[]),(0,t.jsxs)(n.Flex,{direction:"column",gap:"4",children:[(0,t.jsx)(i.Text,{className:"text-center",children:"Voice Frequency Analysis"}),(0,t.jsx)("audio",{ref:l,onPlay:()=>{o.current||(o.current=!0,(()=>{if(!l.current)return;let e=new AudioContext,t=e.createMediaElementSource(l.current),r=e.createAnalyser();r.fftSize=512;let s=new Uint8Array(r.frequencyBinCount);t.connect(r),r.connect(e.destination),u.current=e,p.current=r,m.current=s})()),c.current=!0,f()},onPause:()=>{c.current=!1},src:(0,r.getAssetUrl)("/audio/song.mp3"),controls:!0}),(0,t.jsx)(s.Card,{children:(0,t.jsx)("canvas",{ref:e,id:"canvas"})})]})}])},43963,e=>{"use strict";var t=e.i(43476),r=e.i(66628),s=e.i(47848),n=e.i(39045),i=e.i(83024),a=e.i(71645);e.s(["VoiceTime",0,()=>{let e=(0,a.useRef)(null),l=(0,a.useRef)(null),o=(0,a.useRef)(!1),c=(0,a.useRef)(!1),u=(0,a.useRef)(null),p=(0,a.useRef)(null),m=(0,a.useRef)(null),d=(0,a.useRef)(null),f=()=>{if(!p.current||!m.current)return;let e=p.current,t=m.current;!c.current&&d.current?cancelAnimationFrame(d.current):(d.current=requestAnimationFrame(()=>f()),e.getByteTimeDomainData(t),g(t))},g=t=>{let r=e.current;if(!r)return;let s=r.getContext("2d");if(!s)return;s.clearRect(0,0,r.width,r.height),s.strokeStyle="red",s.lineWidth=2,s.beginPath();let n=r.width/t.length,i=0;for(let e=0;e<t.length;e++){let a=t[e]/128*r.height/2;0===e?s.moveTo(i,a):s.lineTo(i,a),i+=n}s.lineTo(r.width,r.height/2),s.stroke()};return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let r=window.devicePixelRatio||1;t.width=200*r,t.height=200*r,t.style.width=t.style.height="200px",Array(256).fill(128)},[]),(0,t.jsxs)(n.Flex,{direction:"column",gap:"4",children:[(0,t.jsx)(i.Text,{className:"text-center",children:"Voice Time Analysis"}),(0,t.jsx)("audio",{ref:l,onPlay:()=>{o.current||(o.current=!0,(()=>{if(!l.current)return;let e=new AudioContext,t=e.createMediaElementSource(l.current),r=e.createAnalyser();r.fftSize=512;let s=new Uint8Array(r.frequencyBinCount);t.connect(r),r.connect(e.destination),u.current=e,p.current=r,m.current=s})()),c.current=!0,f()},onPause:()=>{c.current=!1},src:(0,r.getAssetUrl)("/audio/song.mp3"),controls:!0}),(0,t.jsx)(s.Card,{children:(0,t.jsx)("canvas",{ref:e,id:"canvas"})})]})}])}]);