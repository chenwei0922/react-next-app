(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12447,(t,e,n)=>{e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},236,(t,e,n)=>{e.exports=t.g&&t.g.Object===Object&&t.g},39088,(t,e,n)=>{var r=t.r(236),o="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||o||Function("return this")()},31926,(t,e,n)=>{var r=t.r(39088);e.exports=function(){return r.Date.now()}},48891,(t,e,n)=>{var r=/\s/;e.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},30364,(t,e,n)=>{var r=t.r(48891),o=/^\s+/;e.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},30353,(t,e,n)=>{e.exports=t.r(39088).Symbol},43436,(t,e,n)=>{var r=t.r(30353),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;e.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[a]=n:delete t[a]),o}},5089,(t,e,n)=>{var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},77684,(t,e,n)=>{var r=t.r(30353),o=t.r(43436),i=t.r(5089),u=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?o(t):i(t)}},77289,(t,e,n)=>{e.exports=function(t){return null!=t&&"object"==typeof t}},61884,(t,e,n)=>{var r=t.r(77684),o=t.r(77289);e.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},73759,(t,e,n)=>{var r=t.r(30364),o=t.r(12447),i=t.r(61884),u=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=c.test(t);return n||l.test(t)?s(t.slice(2),n?2:8):a.test(t)?u:+t}},74009,(t,e,n)=>{var r=t.r(12447),o=t.r(31926),i=t.r(73759),u=Math.max,a=Math.min;e.exports=function(t,e,n){var c,l,s,f,d,v,h=0,p=!1,g=!1,m=!0;if("function"!=typeof t)throw TypeError("Expected a function");function y(e){var n=c,r=l;return c=l=void 0,h=e,f=t.apply(r,n)}function A(t){var n=t-v,r=t-h;return void 0===v||n>=e||n<0||g&&r>=s}function b(){var t,n,r,i=o();if(A(i))return w(i);d=setTimeout(b,(t=i-v,n=i-h,r=e-t,g?a(r,s-n):r))}function w(t){return(d=void 0,m&&c)?y(t):(c=l=void 0,f)}function x(){var t,n=o(),r=A(n);if(c=arguments,l=this,v=n,r){if(void 0===d)return h=t=v,d=setTimeout(b,e),p?y(t):f;if(g)return clearTimeout(d),d=setTimeout(b,e),y(v)}return void 0===d&&(d=setTimeout(b,e)),f}return e=i(e)||0,r(n)&&(p=!!n.leading,s=(g="maxWait"in n)?u(i(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==d&&clearTimeout(d),h=0,c=v=l=d=void 0},x.flush=function(){return void 0===d?f:w(o())},x}},24283,(t,e,n)=>{var r=t.r(74009),o=t.r(12447);e.exports=function(t,e,n){var i=!0,u=!0;if("function"!=typeof t)throw TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),r(t,e,{leading:i,maxWait:e,trailing:u})}},34255,t=>{"use strict";var e,n=t.i(43476),r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)0>e.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function u(t,e,n){if(n||2==arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var a=("function"==typeof SuppressedError&&SuppressedError,t.i(71645));let c=(e=a.useEffect,function(t,n){var r=(0,a.useRef)(!1);e(function(){return function(){r.current=!1}},[]),e(function(){if(r.current)return t();r.current=!0},n)});var l=function(t,e){var n=e.manual,r=e.ready,o=void 0===r||r,l=e.defaultParams,s=void 0===l?[]:l,f=e.refreshDeps,d=e.refreshDepsAction,v=(0,a.useRef)(!1);return v.current=!1,c(function(){!n&&o&&(v.current=!0,t.run.apply(t,u([],i(s),!1)))},[o]),c(function(){!v.current&&(n||(v.current=!0,d?d():t.refresh()))},u([],i(void 0===f?[]:f),!1)),{onBefore:function(){if(!o)return{stopNow:!0}}}};l.onInit=function(t){var e=t.ready;return{loading:!t.manual&&(void 0===e||e)}};let s=function(t,e){if(t===e)return!0;for(var n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0},f=function(t,e){var n=(0,a.useRef)({deps:e,obj:void 0,initialized:!1}).current;return!1!==n.initialized&&s(n.deps,e)||(n.deps=e,n.obj=t(),n.initialized=!0),n.obj},d=function(t){var e=(0,a.useRef)(t);return e.current=t,e};t.i(47167);let v=function(t){var e=d(t);(0,a.useEffect)(function(){return function(){e.current()}},[])};var h=new Map,p=function(t,e,n){var o=h.get(t);(null==o?void 0:o.timer)&&clearTimeout(o.timer);var i=void 0;e>-1&&(i=setTimeout(function(){h.delete(t)},e)),h.set(t,r(r({},n),{timer:i}))},g=new Map,m=function(t,e){g.set(t,e),e.then(function(e){return g.delete(t),e}).catch(function(){g.delete(t)})},y={},A=function(t,e){y[t]&&y[t].forEach(function(t){return t(e)})},b=function(t,e){return y[t]||(y[t]=[]),y[t].push(e),function(){var n=y[t].indexOf(e);y[t].splice(n,1)}};let w=function(t,e){var n=e.cacheKey,r=e.cacheTime,o=void 0===r?3e5:r,c=e.staleTime,l=void 0===c?0:c,s=e.setCache,d=e.getCache,y=(0,a.useRef)(void 0),w=(0,a.useRef)(void 0),x=function(t,e){s?s(e):p(t,o,e),A(t,e.data)},j=function(t,e){return(void 0===e&&(e=[]),d)?d(e):h.get(t)};return(f(function(){if(n){var e=j(n);e&&Object.hasOwnProperty.call(e,"data")&&(t.state.data=e.data,t.state.params=e.params,(-1===l||Date.now()-e.time<=l)&&(t.state.loading=!1)),y.current=b(n,function(e){t.setState({data:e})})}},[]),v(function(){var t;null==(t=y.current)||t.call(y)}),n)?{onBefore:function(t){var e=j(n,t);return e&&Object.hasOwnProperty.call(e,"data")?-1===l||Date.now()-e.time<=l?{loading:!1,data:null==e?void 0:e.data,error:void 0,returnNow:!0}:{data:null==e?void 0:e.data,error:void 0}:{}},onRequest:function(t,e){var r=g.get(n);return r&&r!==w.current||(w.current=r=t.apply(void 0,u([],i(e),!1)),m(n,r)),{servicePromise:r}},onSuccess:function(e,r){var o;n&&(null==(o=y.current)||o.call(y),x(n,{data:e,params:r,time:Date.now()}),y.current=b(n,function(e){t.setState({data:e})}))},onMutate:function(e){var r;n&&(null==(r=y.current)||r.call(y),x(n,{data:e,params:t.state.params,time:Date.now()}),y.current=b(n,function(e){t.setState({data:e})}))}}:{}};var x=t.i(74009);let j=function(t,e){var n=e.debounceWait,r=e.debounceLeading,o=e.debounceTrailing,c=e.debounceMaxWait,l=(0,a.useRef)(void 0),s=(0,a.useMemo)(function(){var t={};return void 0!==r&&(t.leading=r),void 0!==o&&(t.trailing=o),void 0!==c&&(t.maxWait=c),t},[r,o,c]);return((0,a.useEffect)(function(){if(n){var e=t.runAsync.bind(t);return l.current=(0,x.default)(function(t){t()},n,s),t.runAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise(function(n,r){var o;null==(o=l.current)||o.call(l,function(){e.apply(void 0,u([],i(t),!1)).then(n).catch(r)})})},function(){var n;null==(n=l.current)||n.cancel(),t.runAsync=e}}},[n,s]),n)?{onCancel:function(){var t;null==(t=l.current)||t.cancel()}}:{}},S=function(t,e){var n=e.loadingDelay,r=e.ready,o=(0,a.useRef)(void 0);if(!n)return{};var i=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return i(),!1!==r&&(o.current=setTimeout(function(){t.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){i()},onCancel:function(){i()}}};var E=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function C(){return!E||"hidden"!==document.visibilityState}var R=new Set;E&&window.addEventListener("visibilitychange",function(){C()&&R.forEach(function(t){return t()})},!1);let O=function(t,e){var n=e.pollingInterval,r=e.pollingWhenHidden,o=void 0===r||r,i=e.pollingErrorRetryCount,u=void 0===i?-1:i,l=(0,a.useRef)(void 0),s=(0,a.useRef)(void 0),f=(0,a.useRef)(0),d=function(){var t;l.current&&clearTimeout(l.current),null==(t=s.current)||t.call(s)};return(c(function(){n||d()},[n]),n)?{onBefore:function(){d()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===u||-1!==u&&f.current<=u?l.current=setTimeout(function(){if(o||C())t.refresh();else{var e;e=function(){t.refresh()},R.add(e),s.current=function(){R.has(e)&&R.delete(e)}}},n):f.current=0},onCancel:function(){d()}}:{}};var M=new Set;if(E){var T=function(){C()&&(!E||void 0===navigator.onLine||navigator.onLine)&&M.forEach(function(t){return t()})};window.addEventListener("visibilitychange",T,!1),window.addEventListener("focus",T,!1)}let B=function(t,e){var n=e.refreshOnWindowFocus,r=e.focusTimespan,o=void 0===r?5e3:r,c=(0,a.useRef)(void 0),l=function(){var t;null==(t=c.current)||t.call(c)};return(0,a.useEffect)(function(){if(n){var e,r,a,s=(e=t.refresh.bind(t),r=!1,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,e.apply(void 0,u([],i(t),!1)),setTimeout(function(){r=!1},o))});a=function(){s()},M.add(a),c.current=function(){M.has(a)&&M.delete(a)}}return function(){l()}},[n,o]),v(function(){l()}),{}},I=function(t,e){var n=e.retryInterval,r=e.retryCount,o=(0,a.useRef)(void 0),i=(0,a.useRef)(0),u=(0,a.useRef)(!1);return r?{onBefore:function(){u.current||(i.current=0),u.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){i.current=0},onError:function(){i.current+=1,-1===r||i.current<=r?o.current=setTimeout(function(){u.current=!0,t.refresh()},null!=n?n:Math.min(1e3*Math.pow(2,i.current),3e4)):i.current=0},onCancel:function(){i.current=0,o.current&&clearTimeout(o.current)}}:{}};var P=t.i(24283);let H=function(t,e){var n=e.throttleWait,r=e.throttleLeading,o=e.throttleTrailing,c=(0,a.useRef)(void 0),l={};return(void 0!==r&&(l.leading=r),void 0!==o&&(l.trailing=o),(0,a.useEffect)(function(){if(n){var e=t.runAsync.bind(t);return c.current=(0,P.default)(function(t){t()},n,l),t.runAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise(function(n,r){var o;null==(o=c.current)||o.call(c,function(){e.apply(void 0,u([],i(t),!1)).then(n).catch(r)})})},function(){var n;t.runAsync=e,null==(n=c.current)||n.cancel()}}},[n,r,o]),n)?{onCancel:function(){var t;null==(t=c.current)||t.cancel()}}:{}},K=function(t){var e=(0,a.useRef)(t);e.current=(0,a.useMemo)(function(){return t},[t]);var n=(0,a.useRef)(void 0);return n.current||(n.current=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.current.apply(this,t)}),n.current},D=function(t){(0,a.useEffect)(function(){var e=null==t?void 0:t();if(!e||"object"!=typeof e||"function"!=typeof e.then)return e},[])},N=function(){var t=i((0,a.useState)({}),2)[1];return(0,a.useCallback)(function(){return t({})},[])};var Q=function(){function t(t,e,n,o){void 0===o&&(o={}),this.serviceRef=t,this.options=e,this.subscribe=n,this.initState=o,this.pluginImpls=[],this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=r(r(r({},this.state),{loading:!e.manual}),o)}return t.prototype.setState=function(t){void 0===t&&(t={}),this.state=r(r({},this.state),t),this.subscribe()},t.prototype.runPluginHandler=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.pluginImpls.map(function(n){var r;return null==(r=n[t])?void 0:r.call.apply(r,u([n],i(e),!1))}).filter(Boolean);return Object.assign.apply(Object,u([{}],i(r),!1))},t.prototype.runAsync=function(){for(var t,e,n,a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return t=this,e=void 0,n=void 0,a=function(){var t,e,n,a,l,s,f,d,v,h,p,g,m,y,A,b,w,x,j,S,E;return function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var l=[a,c];if(n)throw TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=e.call(t,i)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(C){switch(C.label){case 0:if(this.count+=1,t=this.count,a=void 0!==(n=(e=this.runPluginHandler("onBefore",c)).stopNow)&&n,s=void 0!==(l=e.returnNow)&&l,f=o(e,["stopNow","returnNow"]),a)return[2,new Promise(function(){})];if(this.setState(r({loading:!0,params:c},f)),s)return[2,Promise.resolve(f.data)];null==(m=(g=this.options).onBefore)||m.call(g,c),C.label=1;case 1:return C.trys.push([1,3,,4]),(d=this.runPluginHandler("onRequest",this.serviceRef.current,c).servicePromise)||(d=(p=this.serviceRef).current.apply(p,u([],i(c),!1))),[4,d];case 2:if(v=C.sent(),t!==this.count)return[2,new Promise(function(){})];return this.setState({data:v,error:void 0,loading:!1}),null==(A=(y=this.options).onSuccess)||A.call(y,v,c),this.runPluginHandler("onSuccess",v,c),null==(w=(b=this.options).onFinally)||w.call(b,c,v,void 0),t===this.count&&this.runPluginHandler("onFinally",c,v,void 0),[2,v];case 3:if(h=C.sent(),t!==this.count)return[2,new Promise(function(){})];throw this.setState({error:h,loading:!1}),null==(j=(x=this.options).onError)||j.call(x,h,c),this.runPluginHandler("onError",h,c),null==(E=(S=this.options).onFinally)||E.call(S,c,void 0,h),t===this.count&&this.runPluginHandler("onFinally",c,void 0,h),h;case 4:return[2]}})},new(n||(n=Promise))(function(r,o){function i(t){try{c(a.next(t))}catch(t){o(t)}}function u(t){try{c(a.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(i,u)}c((a=a.apply(t,e||[])).next())})},t.prototype.run=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.runAsync.apply(this,u([],i(e),!1)).catch(function(e){t.options.onError||console.error(e)})},t.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},t.prototype.refresh=function(){this.run.apply(this,u([],i(this.state.params||[]),!1))},t.prototype.refreshAsync=function(){return this.runAsync.apply(this,u([],i(this.state.params||[]),!1))},t.prototype.mutate=function(t){var e="function"==typeof t?t(this.state.data):t;this.runPluginHandler("onMutate",e),this.setState({data:e})},t}();let k=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]);var a=e.manual,c=void 0!==a&&a,l=e.ready,s=void 0===l||l,h=o(e,["manual","ready"]),p=r({manual:c,ready:s},h),g=d(t),m=N(),y=f(function(){var t=n.map(function(t){var e;return null==(e=null==t?void 0:t.onInit)?void 0:e.call(t,p)}).filter(Boolean);return new Q(g,p,m,Object.assign.apply(Object,u([{}],i(t),!1)))},[]);return y.options=p,y.pluginImpls=n.map(function(t){return t(y,p)}),D(function(){if(!c&&s){var t=y.state.params||e.defaultParams||[];y.run.apply(y,u([],i(t),!1))}}),v(function(){y.cancel()}),{loading:y.state.loading,data:y.state.data,error:y.state.error,params:y.state.params||[],cancel:K(y.cancel.bind(y)),refresh:K(y.refresh.bind(y)),refreshAsync:K(y.refreshAsync.bind(y)),run:K(y.run.bind(y)),runAsync:K(y.runAsync.bind(y)),mutate:K(y.mutate.bind(y))}};var F=t.i(83764),L=t.i(69566);let W=async t=>await (0,F.getFetcher)("https://api.xter.io/xgc/v1/work/list",t).catch(()=>L.default.data)||L.default.data;var G=t.i(57688),Y=t.i(66628);let U=(0,a.memo)(t=>{let[e,r]=((t={})=>{let[e,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),i=(0,a.useRef)(null),u=(0,a.useMemo)(()=>({root:t.root,rootMargin:t.rootMargin,threshold:t.threshold}),[t.root,t.rootMargin,t.threshold]);return(0,a.useEffect)(()=>{let t=i.current;if(!t)return;let e=new IntersectionObserver(([t])=>{t&&(n(t.isIntersecting),o(t))},u);return e.observe(t),()=>{t&&e.unobserve(t)}},[u]),[i,e,r]})((0,a.useMemo)(()=>({threshold:.1,rootMargin:"50px"}),[])),o=(0,a.useMemo)(()=>{let e=t.media.url;return r?e+"?w=227&q=80":e+"?w=20&q=80"},[r,t.media.url]);return(0,n.jsx)("div",{className:(0,Y.cn)("group relative overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-all duration-300 bg-white"),ref:e,children:(0,n.jsx)(G.default,{className:"object-cover transition-transform duration-300 group-hover:scale-105",src:o,alt:"",width:227,height:227,sizes:"(max-width: 640px) 90vw, (max-width: 768px) 45vw, (max-width: 1024px) 30vw, 227px",loading:r?"eager":"lazy",placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R"})},t.ID)},(t,e)=>t.ID===e.ID&&t.media.url===e.media.url),z=({loadMoreRef:t,noMore:e,loading:r})=>(0,n.jsxs)("div",{ref:t,className:"py-8",children:[r&&(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),e&&(0,n.jsx)("div",{className:"py-4 text-gray-500 text-center",children:"没有更多数据了"})]}),q=({results:t,handleMore:e,loading:r,hasMore:o})=>{let{moreRef:i}=((t,e)=>{let{enabled:n=!0,distance:r=100,threshold:o=.1}=e,i=(0,a.useRef)(null),u=(0,a.useRef)(null),c=(0,a.useRef)(null),l=(0,a.useCallback)(()=>{n&&t()},[n,t]);return(0,a.useEffect)(()=>{let t=i.current;if(!t||(u.current&&u.current?.disconnect(),!n))return;let e=new IntersectionObserver(t=>{let[e]=t;e.isIntersecting&&l()},{root:null,rootMargin:`${r}px`,threshold:o});return e.observe(t),u.current=e,()=>{u.current?.disconnect()}},[l,n,r,o]),(0,a.useEffect)(()=>{let t=c.current;if(!t)return;let e=()=>{let e=t===document||t===document.body?Math.max(window.pageXOffset,document.documentElement.scrollTop,document.body.scrollTop):t?.scrollTop;(t?.scrollHeight||Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))-e<=(t.clientHeight||Math.max(document.documentElement.clientHeight,document.body.clientHeight))+r&&l()};return t.addEventListener("scroll",e,{passive:!0}),()=>{t.removeEventListener("scroll",e)}},[l,r]),{moreRef:i,containerRef:c}})(e,{enabled:o&&!r,distance:300}),{visibleItems:u,totalHeight:c,containerRef:l}=(t=>{let{itemHeight:e,items:n,overscan:r=5,containerTarget:o}=t,i=(0,a.useRef)(null),u=o||i,[c,l]=(0,a.useState)([]),s=(0,a.useRef)(!1),[f,d]=(0,a.useState)(null),v=(0,a.useCallback)(t=>{let{clientHeight:o,scrollTop:i}=t,u=Math.floor(i/e),a=Math.ceil(o/e),c=Math.max(0,u-r),s=Math.min(n.length,u+a+r);l(n.slice(c,s).map((t,n)=>({data:t,originalIndex:c+n,offsetTop:(c+n)*e})))},[e,n,r]),h=(0,a.useCallback)(t=>{d(t*e)},[e]);return(0,a.useEffect)(()=>{if(null===f)return;let t=u.current;t&&(s.current=!0,t.scrollTop=f,v(t),d(null))},[v,u,f]),(0,a.useEffect)(()=>{let t=u.current;if(!t)return;v(t);let e=()=>{if(s.current){s.current=!1;return}v(t)};t.addEventListener("scroll",e,{passive:!0});let n=new ResizeObserver(()=>v(t));return n.observe(t),()=>{t.removeEventListener("scroll",e),n.disconnect()}},[v,u]),{containerRef:u,visibleItems:c,totalHeight:n.length*e,scrollTo:h}})({items:t,itemHeight:227,overscan:2});return(0,n.jsxs)("div",{ref:l,className:"overflow-auto w-full h-screen",children:[(0,n.jsx)("div",{className:"relative min-h-full",style:{height:`${c}px`},children:u.map(({data:t,originalIndex:e,offsetTop:r})=>(0,n.jsx)("div",{"data-testid":"list-item",className:"h-[227px] w-full flex justify-center absolute","data-virtual-index":e+1,style:{transform:`translateY(${r}px)`},children:(0,n.jsx)(U,{...t})},t.ID))}),(0,n.jsx)(z,{noMore:!o&&!!t?.length,loading:r,loadMoreRef:i})]})};function $(){let[t]=(0,a.useState)(10),[e,r]=(0,a.useState)(0),[o,c]=(0,a.useState)(!1),[s,f]=(0,a.useState)(1),[d,h]=(0,a.useState)([]),{loading:p,run:g,cancel:m}=k(W,{onSuccess(t,[e]){let n=t.results;h(t=>0===e.offset?n:[...t,...n]),f(t=>t+1),c(n.length>0),0===e.offset&&r(t.total)},manual:!0},u(u([],i([]),!1),[j,S,O,B,H,l,w,I],!1)),y=(0,a.useCallback)(()=>{o&&!p&&(console.log("go load more"),g({limit:t,offset:d.length}))},[o,p,d.length,g,t]);return v(()=>{m()}),(0,a.useEffect)(()=>{g({limit:10,offset:0})},[g,t]),(0,n.jsx)("section",{className:"w-screen flex flex-col items-center",children:(0,n.jsx)(q,{results:d,handleMore:y,loading:p,hasMore:o})})}t.s(["default",()=>$],34255)}]);